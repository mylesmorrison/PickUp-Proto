<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pick Up | Profile</title>
</head>
<body>
    

    <footer>
        <a href="/index.html">Home</a>
        <a href="/edit-profile.html">Edit Profile</a>
    </footer>

    <script> 

        //get the user id from the href 
        let user_id = window.location.pathname.split("/")
        user_id = user_id.pop()
        console.log(user_id)

        document.addEventListener("DOMContentLoaded", async () => {
            try {
                const response = await fetch(`/api/users/${user_id}`); // Adjust endpoint
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                const userData = await response.json();
                console.log("User Data:", userData); // Debugging log

                // Display user data in HTML
                document.getElementById('user-name').textContent = userData.name;
                document.getElementById('user-email').textContent = userData.email;

            } catch (error) {
                console.error("Error fetching user profile:", error);
            }
        })
    
    </script>
</body>
</html>